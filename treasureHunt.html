<!DOCTYPE html>
<html>
  <head>  
    <title>Find the treasure!</title>
  </head>
  <body>
    <h1 id = "heading">Find the hidden treasure!</h1>
    
    <img id = "map" width=400 height=400
      src="https://nostarch.com/images/treasuremap.png">
    
    <p id="distance"></p>
    
    <script src="https://code.jquery.com/jquery-2.1.0.js"></script>
    
    <script>
      var getRandomNumber = function(size)
      {
        return Math.floor(Math.random() * size);
      };
      
      var width = 400;
      var height = 400;
      
      var treasure = {
        x: getRandomNumber(width),
        y: getRandomNumber(height)
      };
      
      var getDistanceToTreasure = function(event, treasure)
      {
        var xDifference = event.offsetX - treasure.x;
        var yDifference = event.offsetY - treasure.y;
        return Math.sqrt((xDifference * xDifference) + 
                         (yDifference * yDifference)); // Pythagorean Theorem
      };
      
      var clicks = 0; 
      
      $("#map").click(function (event){ 
        // check for distance
        
        var  distance = getDistanceToTreasure(event, treasure);
        if (distance <= 5)
        {
          alert("CONGRATULATIONS!");
        }
        // if they have 'found it' tell them how many clicks it took
        else{
          alert(getting closer)
        }
        clicks++;
      });
    </script> 
    
  </body>
</html>
